import{a as k,r as f,b as x,o as z,c as y,d as B,e as a,t as _,u as m,f as O,w as P,B as R,F as L,T as g,g as N,h as C,i as I}from"./vendor.840ef5cb.js";const S=function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))u(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const r of t.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&u(r)}).observe(document,{childList:!0,subtree:!0});function l(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?t.credentials="include":e.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function u(e){if(e.ep)return;e.ep=!0;const t=l(e);fetch(e.href,t)}};S();var h=(c=[],s=[])=>AMapLoader.load({key:"17709e22b3ed4ffd8d115547eaf8a2f8",version:"1.4.15",plugins:["AMap.Geolocation"],AMapUI:{version:"1.1",plugins:s}});const w=k.create({timeout:30*1e3});w.interceptors.response.use(c=>c.data);const W=()=>w.get("./data.json");const E=a("i",{class:"iconfont icon-dingwei-dingwei"},null,-1),T=[E],D={class:"title"},F=N("\u5BFC\u822A"),V={class:"container"},G=a("img",{src:"https://webapi.amap.com/images/sharp.png"},null,-1),j={setup(c){const s=f(null),l=f(null),u=f(null),e=f(null),t=x({});let r=null;const A=async()=>{try{const n=await h();r=new n.Map(s.value,{resizeEnable:!0});const p=new n.Geolocation({enableHighAccuracy:!0,timeout:1e4,zoomToAccuracy:!0,buttonDom:l.value,buttonOffset:new n.Pixel(30,100),buttonPosition:"RB"});return r.addControl(p),p.on("error",()=>{g.fail("\u83B7\u53D6\u4F4D\u7F6E\u4FE1\u606F\u5931\u8D25")}),r}catch(n){throw g.fail("\u5730\u56FE\u52A0\u8F7D\u5931\u8D25"),n}},M=()=>{e.value&&e.value.markOnAMAP({position:t.position,name:t.name})};return z(async()=>{const[n,p]=await Promise.all([A(),W()]),o=new AMap.InfoWindow({isCustom:!0,offset:new AMap.Pixel(29,-40),content:u.value});p.forEach(i=>{const b=new AMap.Icon({size:new AMap.Size(50,50),image:"./gc1.png",imageSize:new AMap.Size(50,50)}),d=i.addr.split(",");i.position=d;const v=new AMap.Marker({icon:b,map:n,position:d});v.on("click",()=>{e.value=v,Object.assign(t,i),n.setCenter(d),o.open(n,d)})})}),(n,p)=>(y(),B(L,null,[a("div",{ref:(o,i)=>{i.mapRef=o,s.value=o},class:"map"},null,512),a("div",{ref:(o,i)=>{i.locationRef=o,l.value=o},class:"location"},T,512),a("div",{ref:(o,i)=>{i.infoWindowRef=o,u.value=o},class:"infoWindow"},[a("div",D,[a("div",null,_(m(t).name),1),O(m(R),{type:"primary",size:"mini",onClick:M},{default:P(()=>[F]),_:1})]),a("div",V,[a("span",null,_(m(t).type),1),a("span",null,_(m(t).remark),1)]),G],512)],64))}};const q={setup(c){return(s,l)=>(y(),C(j))}};h();I(q).use(g).mount("#app");
