import{a as k,r as f,b as x,o as z,c as v,d as B,e as i,t as h,u as m,f as O,w as P,B as R,F as L,T as _,g as N,h as C,i as I}from"./vendor.840ef5cb.js";const S=function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))u(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const r of t.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&u(r)}).observe(document,{childList:!0,subtree:!0});function l(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?t.credentials="include":e.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function u(e){if(e.ep)return;e.ep=!0;const t=l(e);fetch(e.href,t)}};S();var w=(c=[],a=[])=>AMapLoader.load({key:"17709e22b3ed4ffd8d115547eaf8a2f8",version:"1.4.15",plugins:["AMap.Geolocation"],AMapUI:{version:"1.1",plugins:a}});const y=k.create({timeout:30*1e3});y.interceptors.response.use(c=>c.data);const W=()=>y.get("./data.json");const E=i("i",{class:"iconfont icon-dingwei-dingwei"},null,-1),T=[E],D={class:"title"},F=N("\u5BFC\u822A"),V={class:"container"},G=i("img",{src:"https://webapi.amap.com/images/sharp.png"},null,-1),j={setup(c){const a=f(null),l=f(null),u=f(null),e=f(null),t=x({});let r=null;const A=async()=>{try{const o=await w();r=new o.Map(a.value,{resizeEnable:!0});const p=new o.Geolocation({enableHighAccuracy:!0,timeout:1e4,zoomToAccuracy:!0,buttonDom:l.value,buttonOffset:new o.Pixel(30,100),buttonPosition:"RB"});return r.addControl(p),p.on("error",()=>{_.fail("\u83B7\u53D6\u4F4D\u7F6E\u4FE1\u606F\u5931\u8D25")}),r}catch(o){throw _.fail("\u5730\u56FE\u52A0\u8F7D\u5931\u8D25"),o}},M=()=>{e.value&&e.value.markOnAMAP({position:t.position,name:t.name})};return z(async()=>{const[o,p]=await Promise.all([A(),W()]),n=new AMap.InfoWindow({isCustom:!0,offset:new AMap.Pixel(29,-40),content:u.value});p.forEach(s=>{const b=new AMap.Icon({size:new AMap.Size(50,50),image:"./gc1.png",imageSize:new AMap.Size(50,50)}),d=s.addr.split(",");s.position=d;const g=new AMap.Marker({icon:b,map:o,position:d});g.on("click",()=>{e.value=g,Object.assign(t,s),o.setCenter(d),n.open(o,d)})})}),(o,p)=>(v(),B(L,null,[i("div",{ref:(n,s)=>{s.mapRef=n,a.value=n},class:"map"},null,512),i("div",{ref:(n,s)=>{s.locationRef=n,l.value=n},class:"location"},T,512),i("div",{ref:(n,s)=>{s.infoWindowRef=n,u.value=n},class:"infoWindow"},[i("div",D,[i("div",null,h(m(t).name),1),O(m(R),{type:"primary",size:"mini",onClick:M},{default:P(()=>[F]),_:1})]),i("div",V,[i("span",null,h(m(t).remark),1)]),G],512)],64))}};const q={setup(c){return(a,l)=>(v(),C(j))}};w();I(q).use(_).mount("#app");
